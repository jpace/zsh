#!/usr/bin/zsh -f
# -*- sh-mode -*-

if [[ $# > 0 ]]
then
    name=$1
    if [[ $name:e != "java" ]]
    then
        echo "not a java file"
        exit 1
    fi
	name=$name:r:s/src\/test\/java\// 
	name=$name:r:s/src\/main\/java\// 
	name=$name:gs/\//./ 
	name=$name:gs/Test//Test 
    echo "name: $name"
    gradle test --offline --tests $name
else
    gradle clean test --offline
fi
